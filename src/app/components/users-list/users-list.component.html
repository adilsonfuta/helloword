<button (click)="showUserForm=!showUserForm" class="btn btn-dark mb-3"> Adicionar Usuarios </button>

<div *ngIf="showUserForm" class="card card-body mb-3">
  <h4>Registar Usuarios </h4>
  <form (submit)="onSubmit($event)">

    <div class="form-group">
      <label for="firstname">Nome:</label>
      <input  type="text" [(ngModel)]="user.firstname" class="form-control" name="firstname">
    </div>

    <div class="form-group">
      <label for="lastname">SobreNome:</label>
      <input type="text" [(ngModel)]="user.lastname" class="form-control" name="lastname">
    </div>

    <div class="form-group">
      <label for="age">Idade:</label>
      <input type="number" [(ngModel)]="user.age" class="form-control" name="age">
    </div>

    <div class="form-group">
      <label for="address">EndereÃ§o:</label>
      <input type="text" [(ngModel)]="user.address.street" class="form-control" name="address">
    </div>

  <div class="form-group">
      <label for="address">Cidade:</label>
      <input type="text"  [(ngModel)]="user.address.state" class="form-control" name="address">
    </div>

    <div class="form-group">
      <label for="street">Bairro:</label>
      <input type="text" [(ngModel)]="user.address.city" class="form-control" name="street">
    </div>

  

    <button (click)="addUser()" [disabled]="user.firstname==''|| user.lastname=='' " class="btn btn-block  btn-primary mb-3">Salvar</button>
  </form>
</div>
<!-- ZONA DO FORM -->

<h2> Usuarios Registrados </h2>

<ul class="list-unstyled" *ngIf="loaded && users?.length > 0">

  <li class="card card-body mb-2" *ngFor="let user of users" [class.bg-light]="user.isActive"
    [style.border-color]="user.isActive ? 'green': ''">

    <h5>{{user.firstname | uppercase}} {{user.lastname |uppercase }}
      <small *ngIf="user.age && user.address">
        <button class="btn btn-dark btn-sm" (click)="toggleHide(user)">
          <i [ngClass]="user.hide ? 'fa fa-plus': 'fa fa-minus' "></i>
        </button></small>

      <!-- no lugar do toghide= user.hide=!user.hide -->
    </h5>
    <ul class="list-group" *ngIf="!user.hide && user.age && user.address">
      <li class="list-group-item"> Age: {{user.age }}</li>
      <li class="list-group-item"> Address: {{user.address.street }} {{user.address.city}} , {{user.address.state}}
      </li>
      <li class="list-group-item">Joined: {{ user.registered | date }}</li>
    </ul>


  </li>
</ul>

<h4 *ngIf="users?.length == 0 "> No User Found on system </h4>

<!-- aqui podia colocar spining ou easy load -->
<h4 *ngIf="!loaded"> Loading User ... </h4>